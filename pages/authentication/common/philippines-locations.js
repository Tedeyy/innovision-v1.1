// Philippines Location Data
const philippinesLocations = {
    "provinces": [
        "Abra",
        "Agusan del Norte",
        "Agusan del Sur",
        "Aklan",
        "Albay",
        "Antique",
        "Apayao",
        "Aurora",
        "Basilan",
        "Bataan",
        "Batanes",
        "Batangas",
        "Benguet",
        "Biliran",
        "Bohol",
        "Bukidnon",
        "Bulacan",
        "Cagayan",
        "Camarines Norte",
        "Camarines Sur",
        "Camiguin",
        "Capiz",
        "Catanduanes",
        "Cavite",
        "Cebu",
        "Compostela Valley",
        "Cotabato",
        "Davao del Norte",
        "Davao del Sur",
        "Davao Occidental",
        "Davao Oriental",
        "Dinagat Islands",
        "Eastern Samar",
        "Guimaras",
        "Ifugao",
        "Ilocos Norte",
        "Ilocos Sur",
        "Iloilo",
        "Isabela",
        "Kalinga",
        "La Union",
        "Laguna",
        "Lanao del Norte",
        "Lanao del Sur",
        "Leyte",
        "Maguindanao",
        "Marinduque",
        "Masbate",
        "Metro Manila",
        "Misamis Occidental",
        "Misamis Oriental",
        "Mountain Province",
        "Negros Occidental",
        "Negros Oriental",
        "Northern Samar",
        "Nueva Ecija",
        "Nueva Vizcaya",
        "Occidental Mindoro",
        "Oriental Mindoro",
        "Palawan",
        "Pampanga",
        "Pangasinan",
        "Quezon",
        "Quirino",
        "Rizal",
        "Romblon",
        "Samar",
        "Sarangani",
        "Siquijor",
        "Sorsogon",
        "South Cotabato",
        "Southern Leyte",
        "Sultan Kudarat",
        "Sulu",
        "Surigao del Norte",
        "Surigao del Sur",
        "Tarlac",
        "Tawi-Tawi",
        "Zambales",
        "Zamboanga del Norte",
        "Zamboanga del Sur",
        "Zamboanga Sibugay"
    ],
    "municipalities": {
        // ... (Your existing list for all provinces should be here)
        "Bukidnon": [
            "Baungon",
            "Cabanglasan",
            "Damulog",
            "Dangcagan",
            "Don Carlos",
            "Impasugong",
            "Kadingilan",
            "Kalilangan",
            "Kitaotao",
            "Lantapan",
            "Libona",
            "Malaybalay City",
            "Malitbog",
            "Manolo Fortich",
            "Maramag",
            "Pangantucan",
            "Quezon",
            "San Fernando",
            "Sumilao",
            "Talakag",
            "Valencia City"
        ]
        // ... (Your existing list for all provinces should be here)
    },
    "barangays": {
        // --- PROVINCE OF BUKIDNON: COMPLETE BARANGAY DATA ---

        "Baungon": [
            "Balintad",
            "Baliangao",
            "Basak",
            "Bubunawan",
            "Cagayan",
            "Calilangan",
            "Danatag",
            "Gulayon",
            "Iba",
            "Imbatug",
            "Kalasungay",
            "Libertad",
            "Lindogon",
            "Lumbayao",
            "Malagana",
            "Mina-og",
            "Nicdao",
            "Poblacion",
            "Salimbal",
            "San Miguel",
            "Santa Cruz",
            "Uman-uman"
        ],
        "Cabanglasan": [
            "Anlogan",
            "Cabanang",
            "Cabanglasan (Poblacion)",
            "Cawayan",
            "Jasaan",
            "Kibalabag",
            "Lambagan",
            "Mandaing",
            "Pagalungan",
            "Tandag",
            "Ulayanon",
            "Dalacutan",
            "Imbatug",
            "Kalingking"
        ],
        "Damulog": [
            "Almagro",
            "Angga-an",
            "Kinai",
            "Kitingting",
            "Lagonglong",
            "Macarthur",
            "Macatoc",
            "Maitum",
            "New Compostela",
            "New Kidapawan",
            "Old Damulog",
            "Omonay",
            "Poblacion",
            "Sampagar",
            "San Isidro",
            "San Vicente",
            "Tangkulan"
        ],
        "Dangcagan": [
            "Barongcot",
            "Bugwak",
            "Dangcagan (Poblacion)",
            "Dolorosa",
            "Kiarian",
            "Kibasalan",
            "Lumbayao",
            "Mabuhay",
            "Miaray",
            "Migcawayan",
            "New Visayas",
            "Old Dangcagan",
            "Sagbayan",
            "San Isidro"
        ],
        "Don Carlos": [
            "Bismartz",
            "Cagahilan",
            "Calubihan",
            "Kibatang",
            "Kiocab",
            "Mabuhay",
            "Mahayag",
            "Manlamonay",
            "Maraymaray",
            "Masiawan",
            "New Damulog",
            "New Sibagat",
            "Poblacion Norte",
            "Poblacion Sur",
            "Pinamaloy",
            "San Antonio",
            "San Emeterio",
            "San Nicolas",
            "San Roque",
            "Santo Niño"
        ],
        "Impasugong": [
            "Bantud",
            "Blumenstock",
            "Bulonay",
            "Capitan Bayong",
            "Cawayan",
            "Centro (Poblacion)",
            "Dumasilag",
            "Guihean",
            "Hagpa",
            "Impalutao",
            "Kalabugao",
            "Kibenton",
            "Kisolon",
            "La Fortuna",
            "Malubog",
            "Sayre",
            "Ticala"
        ],
        "Kadingilan": [
            "Bagongon",
            "Bangaan",
            "Baroy",
            "Cabadiangan",
            "Kabangahan",
            "Kaluksa",
            "Kibalagon",
            "Kibogtok",
            "Mabuhay",
            "Malinao",
            "Matampay",
            "Poblacion",
            "Salvacion",
            "San Andres",
            "San Fernando",
            "Sina-awa"
        ],
        "Kalilangan": [
            "Bansarvil",
            "Cabanab",
            "Canituan",
            "Kalasungay",
            "Kalilangan (Poblacion)",
            "Kinura",
            "Lampanusan",
            "Lantay",
            "Macasandag",
            "Macaopao",
            "Malinao",
            "Mantalongon",
            "Naga",
            "Pamotolon",
            "Pulangui",
            "San Vicente",
            "West Poblacion"
        ],
        "Kitaotao": [
            "Balangay",
            "Balete",
            "Canaan",
            "Cantalisan",
            "Kahusayan",
            "Kalumay",
            "Kibawe",
            "Kitaotao (Poblacion)",
            "Kulaman",
            "Lalawan",
            "Magsaysay",
            "Malatunol",
            "Maybaguio",
            "Metung",
            "Pio V. Corpus",
            "Sagundanon",
            "San Isidro",
            "Santo Rosario",
            "Sinaysayan",
            "Tawas"
        ],
        "Lantapan": [
            "Alanib",
            "Balila",
            "Bantuanon",
            "Basak",
            "Baclayon",
            "Bugcaon",
            "Kaatuan",
            "Kulasihan",
            "Lantapan (Poblacion)",
            "Songco",
            "Victory",
            "Cawayan",
            "Kibangay",
            "Tibugawan"
        ],
        "Libona": [
            "Barangay 1 (Poblacion)",
            "Barangay 2 (Poblacion)",
            "Barangay 3 (Poblacion)",
            "Barangay 4 (Poblacion)",
            "Cabulohan",
            "Capihan",
            "Cawayanon",
            "Gango",
            "Kinawe",
            "Linao",
            "Maingon",
            "Mampayag",
            "Maramag",
            "Mongoc",
            "Palacapao",
            "San Isidro",
            "Santa Cruz",
            "Santo Niño"
        ],
        "Malaybalay City": [
            "Apo Macote",
            "Bangcud",
            "Busdi",
            "Cabulohan",
            "Cabangahan",
            "Can-ayan",
            "Capitan Angel",
            "Carmencita",
            "Casisang",
            "Dalwangan",
            "Imbayao",
            "Indalasa",
            "Kalasungay",
            "Kibalabag",
            "Kulaman",
            "Laguitas",
            "Linabo",
            "Magsaysay",
            "Maligaya",
            "Managok",
            "Manalog",
            "Mapayag",
            "Mapulo",
            "Miglamin",
            "Patpat",
            "Poblacion",
            "Panamucan",
            "San Jose",
            "San Martin",
            "Santo Niño",
            "Silae",
            "Simaya",
            "Sinanglanan",
            "Sumpong",
            "Violeta"
        ],
        "Malitbog": [
            "Capihan",
            "Coppera",
            "Ginala",
            "Kalingking",
            "Malitbog (Poblacion)",
            "Mambuaya",
            "New Dalig",
            "New Tugasan",
            "Poblacion",
            "San Luis",
            "San Miguel",
            "Tala-o"
        ],
        "Manolo Fortich": [
            "Alae",
            "Casisang",
            "Dahilayan",
            "Dalirig",
            "Damilag",
            "Dicklum",
            "Guilang-Guilang",
            "Halapitan",
            "Kalasungay",
            "Kibalabag",
            "Lingion",
            "Lunocan",
            "Mantibugao",
            "Maluko",
            "Minsuro",
            "Pangantucan",
            "Poblacion",
            "San Miguel",
            "Sankanan",
            "Santiago",
            "Tankulan",
            "Ticala"
        ],
        "Maramag": [
            "Anahawon",
            "Base Camp",
            "Camp One",
            "Dologon",
            "Dona Rosario",
            "Kiharong",
            "Kisilag",
            "Kuya",
            "La Roxas",
            "Macapari",
            "Mabuhay",
            "Malipayon",
            "Maramag (Poblacion)",
            "Musuan",
            "North Poblacion",
            "Panadtalan",
            "Purok 6 (Poblacion)",
            "San Andres",
            "San Roque",
            "South Poblacion",
            "Tubigon"
        ],
        "Pangantucan": [
            "Adtuyon",
            "Bacung",
            "Bangahan",
            "Barangay 1 (Poblacion)",
            "Barangay 2 (Poblacion)",
            "Barangay 3 (Poblacion)",
            "Barangay 4 (Poblacion)",
            "Barangay 5 (Poblacion)",
            "Barangay 6 (Poblacion)",
            "Barangay 7 (Poblacion)",
            "Barangay 8 (Poblacion)",
            "Camp One",
            "Concepcion",
            "Gahub",
            "Kabalantasan",
            "Kalabugao",
            "Kalasungay",
            "Langga-an",
            "Mabuhay",
            "Malinao",
            "New Eden",
            "Poblacion",
            "Salvacion",
            "San Vicente"
        ],
        "Quezon": [
            "Butong",
            "Cabuya-an",
            "Delapa",
            "Dumasilag",
            "Kiburiao",
            "Kinura",
            "Linabo",
            "Lipacpan",
            "Lumintao",
            "Mabuhay",
            "Minsamongan",
            "Mibantang",
            "Palacapao",
            "Pinilayan",
            "Poblacion",
            "Salawagan",
            "San Isidro",
            "San Roque",
            "Santa Cruz",
            "Santo Niño",
            "San Jose"
        ],
        "San Fernando": [
            "Bunacao",
            "Cabanglasan",
            "Cawayan",
            "Halapitan (Poblacion)",
            "Iglisig",
            "Kalagutay",
            "Kalingking",
            "Kibongcog",
            "Magkalungay",
            "Managok",
            "Mantalongon",
            "Miaray",
            "Palacapao",
            "Poblacion",
            "San Roque",
            "Santo Niño",
            "Simaya",
            "Tala-o",
            "Tangkulan"
        ],
        "Sumilao": [
            "Cabulohan",
            "Kisolon (Poblacion)",
            "Lantapan",
            "Lico-an",
            "Mampayag",
            "Minsuro",
            "Poblacion",
            "Pontian",
            "Puntian",
            "San Roque"
        ],
        "Talakag": [
            "Baclayon",
            "Basak",
            "Bolo-Bolo",
            "Cacaon",
            "Concepcion",
            "Dagumbaan",
            "Dominorog",
            "Fermina",
            "Indulang",
            "Kala-Kala",
            "Kalasungay",
            "Kibangay",
            "Lantud",
            "Lingating",
            "Macaopao",
            "Mampayag",
            "Miarayon",
            "Mabuhay",
            "Pagagayan",
            "Poblacion",
            "San Isidro",
            "San Miguel",
            "Santo Niño",
            "Silae",
            "Tambulan",
            "Ticala"
        ],
        "Valencia City": [
            "Barangay 1 (Poblacion)",
            "Barangay 2 (Poblacion)",
            "Barangay 3 (Poblacion)",
            "Barangay 4 (Poblacion)",
            "Barangay 5 (Poblacion)",
            "Barangay 6 (Poblacion)",
            "Barangay 7 (Poblacion)",
            "Barangay 8 (Poblacion)",
            "Barangay 9 (Poblacion)",
            "Barangay 10 (Poblacion)",
            "Barangay 11 (Poblacion)",
            "Barangay 12 (Poblacion)",
            "Barangay 13 (Poblacion)",
            "Barangay 14 (Poblacion)",
            "Barangay 15 (Poblacion)",
            "Barangay 16 (Poblacion)",
            "Barangay 17 (Poblacion)",
            "Barangay 18 (Poblacion)",
            "Barangay 19 (Poblacion)",
            "Barangay 20 (Poblacion)",
            "Bagontaas",
            "Barobo",
            "Batangan",
            "Catumbalon",
            "Concepcion",
            "Dagumbalan",
            "Kalasungay",
            "Lurugan",
            "Luyungan",
            "Maapag",
            "Malambo",
            "Marantao",
            "Pinatilan",
            "Poblacion",
            "Sugod",
            "Tongantongan",
            "Vintar"
        ]
    }
};

// Function to populate dropdown lists
function populateDropdowns() {
    // Populate provinces
    const provinceSelects = document.querySelectorAll('#province');
    provinceSelects.forEach(select => {
        philippinesLocations.provinces.forEach(province => {
            const option = document.createElement('option');
            option.value = province;
            option.textContent = province;
            select.appendChild(option);
        });
    });

    // Handle province change to populate municipalities
    provinceSelects.forEach(select => {
        select.addEventListener('change', function() {
            const selectedProvince = this.value;
            const municipalitySelect = this.form.querySelector('#municipality');
            const barangaySelect = this.form.querySelector('#barangay');
            
            // Clear municipality and barangay dropdowns
            municipalitySelect.innerHTML = '<option value="">Select Municipality/City</option>';
            barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
            
            if (selectedProvince && philippinesLocations.municipalities[selectedProvince]) {
                philippinesLocations.municipalities[selectedProvince].forEach(municipality => {
                    const option = document.createElement('option');
                    option.value = municipality;
                    option.textContent = municipality;
                    municipalitySelect.appendChild(option);
                });
            }
        });
    });

    // Handle municipality change to populate barangays
    const municipalitySelects = document.querySelectorAll('#municipality');
    municipalitySelects.forEach(select => {
        select.addEventListener('change', function() {
            const selectedMunicipality = this.value;
            const barangaySelect = this.form.querySelector('#barangay');
            
            // Clear barangay dropdown
            barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
            
            if (selectedMunicipality && philippinesLocations.barangays[selectedMunicipality]) {
                philippinesLocations.barangays[selectedMunicipality].forEach(barangay => {
                    const option = document.createElement('option');
                    option.value = barangay;
                    option.textContent = barangay;
                    barangaySelect.appendChild(option);
                });
            }
        });
    });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', populateDropdowns);